<!-- app/templates/graphics.html -->

{% extends 'base.html' %} {% block title %}Web Finance - Gráficos{% endblock %}
{% block page_title %}Análises Gráficas{% endblock %} {% block content %}
<!-- Linha 1: Gráfico Anual em Destaque -->
<div class="row g-3 mb-3">
  <div class="col-6">
    <div class="card shadow-sm">
      <div class="card-header bg-light">
        <h6 class="fw-semibold mb-0 text-secondary">
          Evolução Anual (Receitas vs. Despesas)
        </h6>
      </div>
      <div class="card-body" style="height: 280px">
        <canvas id="evolucaoAnualChart"></canvas>
      </div>
    </div>
  </div>
  <div class="col-6">
    <div class="card shadow-sm">
      <div class="card-header bg-light">
        <h6 class="fw-semibold mb-0 text-secondary">
          Progresso do Financiamento: {{
          dados_graficos.progresso_financiamento.nome_financiamento }}
        </h6>
      </div>
      <div class="card-body" style="height: 280px">
        <canvas id="financiamentoProgressChart"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Linha 2: Gráficos Mensais Lado a Lado -->
<div class="row g-3 mb-3">
  <div class="col-lg-4">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-light">
        <h6 class="fw-semibold mb-0 text-secondary">
          Progresso de {{ mes_referencia }}
        </h6>
      </div>
      <div
        class="card-body d-flex align-items-center justify-content-center"
        style="height: 280px"
      >
        <canvas id="progressoChart"></canvas>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-light">
        <h6 class="fw-semibold mb-0 text-secondary">
          Saídas de {{ mes_referencia }}
        </h6>
      </div>
      <div class="card-body" style="height: 280px">
        <canvas id="saidasChart"></canvas>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-light">
        <h6 class="fw-semibold mb-0 text-secondary">
          Entradas de {{ mes_referencia }}
        </h6>
      </div>
      <div class="card-body" style="height: 280px">
        <canvas id="entradasChart"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Linha 3: Gráfico de Financiamento -->
{% if dados_graficos.progresso_financiamento %}
<div class="row g-3"></div>
{% endif %}

<!-- Contêiner de dados JSON -->
<script type="application/json" id="graphics-data">
  {{ dados_graficos|tojson|safe }}
</script>
{% endblock %} {% block scripts %}
<script src="{{ url_for('static', filename='js/graphics.js') }}"></script>
{% endblock %}
